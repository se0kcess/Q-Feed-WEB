name: Code Review
on:
  pull_request:
    types: [opened, synchronize]
    paths-ignore:
      - '**/*.stories.tsx'

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - name: AI Code Review
        uses: se0kcess/ai-code-reviewer@main
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
          MODEL: 'gpt-3.5-turbo'
          LANGUAGE: 'ko'
          MAX_FILES: 6
          REVIEW_COMMENT_PREFIX: 'ğŸ¤– ì½”ë“œ ë¦¬ë·° ì˜ê²¬'
          PROMPT: |
            ë‹¹ì‹ ì€ ì‹œë‹ˆì–´ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì…ë‹ˆë‹¤. ë‹¤ìŒ ì¸¡ë©´ì— ì¤‘ì ì„ ë‘ì–´ ì½”ë“œë¥¼ ë¦¬ë·°í•´ ì£¼ì„¸ìš”:

            1. ì½”ë“œ í’ˆì§ˆ ë° ìœ ì§€ë³´ìˆ˜ì„±
            2. Reactì™€ TypeScript ëª¨ë²” ì‚¬ë¡€
            3. ì„±ëŠ¥ ê°œì„ 
            4. ëª…í™•í•œ ê°œì„  ì œì•ˆ
            5. ê¸ì •ì ì¸ í”¼ë“œë°±

            ë‹¤ìŒ êµ¬ì¡°ë¡œ ë¦¬ë·°ë¥¼ ì‘ì„±í•´ ì£¼ì„¸ìš”:

            ## ì „ë°˜ì ì¸ ê²€í†  ì˜ê²¬

            ## êµ¬ì²´ì ì¸ ê°œì„  ì œì•ˆ

            ## ì˜ëœ ì 
