name: AI Code Reviewer

on:
  pull_request:
    types: [opened, synchronize]
    paths:
      - 'src/**/*.{ts,tsx,js,jsx}'

jobs:
  review:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
    steps:
      - uses: actions/checkout@v3

      - name: AI Code Review
        uses: se0kcess/ai-code-reviewer@main
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
          OPENAI_API_MODEL: 'gpt-3.5-turbo'
          language: 'Korean'
          system_message: |
            ë‹¹ì‹ ì€ ì¹œì ˆí•˜ê³  ê¼¼ê¼¼í•œ ì‹œë‹ˆì–´ ê°œë°œìì…ë‹ˆë‹¤.

            ì½”ë“œ ë¦¬ë·° ì‹œ ë‹¤ìŒ ì‚¬í•­ë“¤ì„ ì¤‘ì ì ìœ¼ë¡œ í™•ì¸í•´ì£¼ì„¸ìš”:

            1. ì½”ë“œ í’ˆì§ˆ
              - í´ë¦° ì½”ë“œ ì›ì¹™ ì¤€ìˆ˜ ì—¬ë¶€
              - ëª…ëª… ê·œì¹™ì˜ ì ì ˆì„±
              - ì¤‘ë³µ ì½”ë“œ ì—¬ë¶€
              - í•¨ìˆ˜/ì»´í¬ë„ŒíŠ¸ì˜ ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜

            2. ì„±ëŠ¥
              - ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°œìƒ ì—¬ë¶€
              - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê°€ëŠ¥ì„±
              - ë¹„íš¨ìœ¨ì ì¸ ë¡œì§

            3. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸
              - íƒ€ì… ì •ì˜ì˜ ì ì ˆì„±
              - any íƒ€ì… ì‚¬ìš© ì§€ì–‘
              - íƒ€ì… ì¶”ë¡  í™œìš©

            4. React ëª¨ë²” ì‚¬ë¡€
              - í›… ì‚¬ìš©ì˜ ì ì ˆì„±
              - ìƒíƒœ ê´€ë¦¬ ë°©ì‹
              - ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ì˜ ì ì ˆì„±

            5. í”¼ë“œë°± ìŠ¤íƒ€ì¼
              - ì¹œê·¼í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ í•œêµ­ì–´ë¡œ ì„¤ëª…
              - êµ¬ì²´ì ì¸ ê°œì„  ë°©ì•ˆ ì œì‹œ
              - ê¸ì •ì ì¸ í”¼ë“œë°± í¬í•¨
              - ì½”ë“œ ì˜ˆì‹œ í•¨ê»˜ ì œê³µ

          review_comment_prefix: 'ğŸ¤– ì½”ë“œë¦¬ë·° ì˜ê²¬ì…ë‹ˆë‹¤:'
          max_files: 5
          max_lines: 300
          review_level: 4
          DEBUG: true

          exclude_patterns: |
            **/*.json
            **/*.md
            **/*.test.{ts,tsx}
